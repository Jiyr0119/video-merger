# 选择 Python 解释器
PYTHON=$(which python3 || which python)

# 优先使用 .venv，其次 venv
if [ -d ".venv" ]; then
    VENV_PATH=".venv"
elif [ -d "venv" ]; then
    VENV_PATH="venv"
else
    echo "⚠️ No virtual environment found. Creating .venv ..."
    $PYTHON -m venv .venv
    VENV_PATH=".venv"
fi

# 激活虚拟环境
source $VENV_PATH/bin/activate

# 设置提示符 (类似手动 source venv/bin/activate)
export VIRTUAL_ENV_PROMPT="($(basename $VENV_PATH)) "
